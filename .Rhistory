lning<-fitdist(swiming,"lnorm")
denscomp(list(swiming,gmaing), legendtext = plot.legend)
concdat<-read.csv("/Users/rachel/documents/r/brazilcf",header=TRUE,sep=",")
concdat<-read.csv("/Users/rachel/documents/r/brazilcf.csv",header=TRUE,sep=",")
concdat<-read.csv("/Users/rachel/documents/r/brazilcf.csv",header=TRUE,sep=",")
descdist(concdat$mpn.100.mL,boot=10000)
descdist(concdat$mpn.100ml,boot=10000)
descdist(concdat$mpn.100ml,boot=10000)
plot.legend<-c("Lnormal","Normal")
denscomp(list(concln,concnorm), legendtext = plot.legend)
qqcomp(list(concln,concnorm), legendtext = plot.legend)
cdfcomp(list(concln,concnorm), legendtext = plot.legend)
ppcomp(list(concln,concnorm), legendtext = plot.legend)
concdat<-read.csv("/Users/rachel/documents/r/brazilcf.csv",header=TRUE,sep=",")
denscomp(list(concln,concnorm), legendtext = plot.legend)
qqcomp(list(concln,concnorm), legendtext = plot.legend)
cdfcomp(list(concln,concnorm), legendtext = plot.legend)
ppcomp(list(concln,concnorm), legendtext = plot.legend)
#lognormal fit
concln<-fitdist(concdat$average,"lnorm")
#normal fit
concnorm<-fitdist(concdat$average,"norm")
concdat<-read.csv("/Users/rachel/documents/r/brazilcf.csv",header=TRUE,sep=",")
concln<-fitdist(concdat$average,"lnorm")
concnorm<-fitdist(concdat$average,"norm")
concln<-fitdist(concdat$mpn,"lnorm")
concnorm<-fitdist(concdat$mpn,"norm")
concln<-fitdist(concdat$log,"lnorm")
concnorm<-fitdist(concdat$log,"norm")
#compare uniform and lognormal fit
plot.legend<-c("Lnormal","Normal")
denscomp(list(concln,concnorm), legendtext = plot.legend)
qqcomp(list(concln,concnorm), legendtext = plot.legend)
cdfcomp(list(concln,concnorm), legendtext = plot.legend)
ppcomp(list(concln,concnorm), legendtext = plot.legend)
concln<-fitdist(concdat$log,"lnorm")
concnorm
plot(concnorm)
plot(concln)
plot(concnorm)
plot(concln)
expdat$Frequency
expdat
expdatfreq
expdat$Frequency
swimfreq<-fitdist(expdat$Frequency,"rpois")
-fitdist(freq,"rpois")
install.packages("mc2d")
library(mc2d)
ndvar(10001)
c<-mcstoc(rempiricalC,type="V",1.2e+3,5.61e+5,(concdat$average)/10^6)
#c<-mcstoc(rempiricalC,type="V",1.2e+3,5.61e+5,(concdat$average)/10^6)
i<-mcstoc(rgamma,type="U",ingdat)
#i<-mcstoc(rempiricalC,type="U",ingdat)
f<-mcstoc(rempiricalD,type="U",values=c(2,4))
d<-c*i*f
k<-0.0000511
a<-0.000105
risk<-a+(1-a)*(1-(exp(1)^(-k*d)))
MC<-mc(c,i,f,d,risk)
print(MC)
summary(MC)
expdat$Frequency
swimdat
swimdat$Frequency
swimfreq<-fitdist(swimdat$Frequency,"rpois",lambda=mean(swimdat$Frequency))
swimfreq<-fitdist(swimdat$Frequency,"rpoisson",lambda=mean(swimdat$Frequency)) #??????????????????????????? what is lambda
swimfreq<-fitdist(swimdat$Frequency,"drpois",lambda=mean(swimdat$Frequency)) #??????????????????????????? what is lambda
i<-mcstoc(rgamma,type="U",swimdat$ing)
f<-mcstoc(rpois,type="U",swimdat$Frequency)
i<-mcstoc(lrnorm,type="U",swimdat$ing)
c<-mcstoc(rempiricalC,type="V",concdat$log)
concdat$log
min(concdat$log)
max(concdat$log)
c<-mcstoc(rempiricalC,type="V",concdat$log)
mcstoc(rempiricalC,min=2.60206,max=12.04139,type="V",concdat$log)
c<-mcstoc(rempiricalC,type="V",values=concdat$log)
#MONTE CARLO USING MC2D PACKAGE
#model inputs, kids playing
install.packages("mc2d")
library(mc2d)
ndvar(10001)
c<-mcstoc(rempiricalC,type="V",values=concdat$log) ?????????????????????????????
i<-mcstoc(rlnorm,type="U",swimdat$ing)
f<-mcstoc(rpois,type="U",swimdat$Frequency)
d<-c*i*f
k<-0.0000511
a<-0.000105
risk<-a+(1-a)*(1-(exp(1)^(-k*d)))
MC<-mc(c,i,f,d,risk)
print(MC)
summary(MC)
concdatbay<-read.csv("/Users/rachel/documents/r/qmra/gbaycf.csv",header=TRUE,sep=",")
concdatbay<-read.csv("/Users/rachel/documents/r/qmra/gbaycf.csv",header=TRUE,sep=",")
concdatbay
concdatbay<-read.csv("/Users/rachel/documents/r/qmra/gbaycf.csv",header=TRUE,sep=",")
concdatbay
expdat
expdat<-read.csv("/Users/rachel/documents/r/expdatsail.csv",header=TRUE,sep=",")
expdat<-read.csv("/Users/rachel/documents/r/expdatsailors.csv",header=TRUE,sep=",")
expdat<-read.csv("/Users/rachel/documents/r/expdatsail.csv",header=TRUE,sep=",")
saildat<-expsail[expdat$Exposure.Category=='saildat',]
library(fitdistrplus)
library(mc2d)
expdat<-read.csv("/Users/rachel/documents/r/expdatsail.csv",header=TRUE,sep=",")
concdatbay<-read.csv("/Users/rachel/documents/r/qmra/gbaycf.csv",header=TRUE,sep=",")
saildat<-expsail[expdat$Exposure.Category=='saildat',]
source("pathogen_convert.R")
expdat<-read.csv("/Users/rachel/documents/r/expdatsail.csv",header=TRUE,sep=",")
mombasadata<-c(1,2,3,4,)
mombasadata<-c(1,2,3,4)
mombasadata
saildat<-expsail[expdat$Exposure.Category=='saildat',]
expdat
expdatsail
expdatsail<-read.csv("/Users/rachel/documents/r/expdatsail.csv",header=TRUE,sep=",")
expsail
expdatsail
expdatsail<-read.csv("/Users/rachel/documents/r/expdatsail.csv",header=TRUE,sep=",")
expdatsail<-read.csv("/Users/rachel/documents/r/expdatsail.csv",header=TRUE,sep=",")
expdatsail<-read.csv("/Users/rachel/documents/r/expdatsail.csv",header=TRUE,sep=",")
expdatsail<-read.csv("/Users/rachel/documents/r/expdatsail.csv",header=TRUE,sep=",")
expdat
expdatsail
expdatsail<-read.csv("/Users/rachel/documents/r/expdatsail.csv",header=TRUE,sep=",")
expdatsail<-read.csv("/Users/rachel/documents/r/expdat_athlete.csv",header=TRUE,sep=",")
expdatsail<-read.csv("/Users/rachel/documents/r/expdat_athlete.csv",header=TRUE,sep=",")
table
tab
vector1<-c("timestamp","name","sex","toilettype")
vector2<-c("5pm","chantal","f","pit latrine")
vector2
rbind(vector1,vector2)
source('~/swim.R')
source('~/swim.R')
source('~/swim.R')
concdat
t<-mcstoc(rlnorm,type=V,meanlog=3.6,sdlog=0.85)
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
compare(ingestion_gamma,ingestion_ln)
source('~/compare_dist.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
??meanlog
??sdlog
?rlnorm
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
?rempiricalC
?rgamma
d<-c*i*t
traceback()
d<-c*i*t
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
d<-c*i*t
waddat<-expdat[expdat$Exposure.Category=='wading',]
waddat
i<-mcstoc(rgamma,type="U",rate=0.45,shape=60)
c<-mcstoc(rempiricalC,type="V",values=conc,min(conc),max(conc))
c<-mcstoc(rempiricalC,type="U",values=conc,min(conc),max(conc))
c<-mcstoc(rempiricalC,type="V",values=conc,min(conc),max(conc))
?rempiricalC
source('~/Documents/R/swim2.R')
source('~/wading.R')
source('~/wading.R')
source('~/wading.R')
source('~/wading.R')
source('~/Documents/R/swim2.R')
concdat$mpn.ml*0.175*ratio
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source("pathogen_convert_salt.R")
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/Documents/R/pathogen_convert_salt.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
risking<-return(apply(pathogen,1,simulator))
?normal
??normal
concdat<-read.csv("/Users/rachel/documents/r/gbaycf.csv",header=TRUE,sep=",")
concdat
concdatgbbay<-read.csv("/Users/rachel/documents/r/gbaycf.csv",header=TRUE,sep=",")
source('~/Documents/R/pathogen_convert_salt.R')
concdatgbbay
source('~/Documents/R/swim2.R')
concdatgbbay<-read.csv("/Users/rachel/documents/r/gbaycf.csv",header=TRUE,sep=",")
concdatgbbay
concdatgbbay<-read.csv("/Users/rachel/documents/r/gbaycf.csv",header=TRUE,sep=",")
concdatgbbay
concdatgbbay
read.csv("/Users/rachel/documents/r/gbaycf.csv",header=TRUE,sep=",")
x<-runif(n=10000,min=0,max=)
x
concdatgbbay
saltdat<-read.csv("/Users/rachel/documents/r/gbaycf.csv",header=TRUE,sep=",")
saltdat
runif(n=10000,min=0,max=saltrow[max])
runif(n=5,min=0,max=1000)
?sample
saltdat<-read.csv("/Users/rachel/documents/r/gbaycf.csv",header=TRUE,sep=",")
concsalt<function(saltrow){
concsaltdist<-runif(1000,min=0,max=saltrow[max])
sample(concsaltdist,1,replace=TRUE)
}
return(concsalt)
}
saltdat<-read.csv("/Users/rachel/documents/r/gbaycf.csv",header=TRUE,sep=",")
concsalt<function(saltrow){
concsaltdist<-runif(1000,min=0,max=saltrow[max])
sample(concsaltdist,1,replace=TRUE)
}
return(concsalt)
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
bla<-return(concsalt)
source('~/Documents/R/pathogen_convert_salt.R')
bla
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
saltdat<-read.csv("/Users/rachel/documents/r/gbaycf.csv",header=TRUE,sep=",")
concsalt<-function(saltrow){
concsaltdist<-runif(1000,min=0,max=saltrow[max])
sample(concsaltdist,1,replace=TRUE)
}
return(apply(concsalt,1,saltdat)
concsalt<-function(saltrow){
concsaltdist<-runif(1000,min=0,max=saltrow[max])
sample(concsaltdist,1,replace=TRUE)
}
return(apply(concsalt,1,saltdat)
""
saltdat[max]
concsalt
source('~/Documents/R/pathogen_convert_salt.R')
saltdat
concsalt("Barra de Guaratiba")
?runif
saltdat
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
concsaltdist<-runif(1000,min=0,max=as.numeric(site["max"]))
source('~/Documents/R/pathogen_convert_salt.R')
saldat
saltdat
saltdat
is.data.frame(saltdat)
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
return(apply(saltdat,1,concsalt))
apply(saltdat,1,concsalt))
source('~/Documents/R/pathogen_convert_salt.R')
??sample
?sample
bla<-1:10
sample(1,bla)
sample(2,bla)
sample(6,bla)
sample(bla,1)
sample(bla,6)
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
bla<-c()
bla1<-1
c(bla,bla1)
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
siteconc
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
source('~/Documents/R/pathogen_convert_salt.R')
print(coliform_to_pathogen_salt(ecoli))
source('~/Documents/R/pathogen_convert_salt.R')
saltdat
source('~/Documents/R/sailing.R')
source('~/Documents/R/sailing.R')
source('~/Documents/R/sailing.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
#simulate risk of infection
source('~/Documents/R/sailing.R')
source('~/Documents/R/sailing.R')
source('~/Documents/R/sailing.R')
source('~/Documents/R/sailing.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/sailing.R')
source('~/Documents/R/sailing.R')
sailmcd<-mc(c,d,riskd)
source('~/Documents/R/sailing.R')
source('~/Documents/R/sailing.R')
source('~/Documents/R/sailing.R')
riskd <- riski *as.numeric(rowpath["pdi"])
source('~/Documents/R/sailing.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/swim2.R')
source('~/Documents/R/sailing.R')
source('~/Documents/R/sailing.R')
source('~/Documents/R/sailing.R')
source('~/Documents/R/sailing.R')
source('~/Documents/R/sailing.R')
source('~/Documents/R/sailing.R')
saltdt
saltdat
source('~/Documents/R/sailing.R')
saltdat
source('~/Documents/R/swim2.R')
expdat
concdat
expdat
concdat
swimdat
source('~/Documents/R/swim3.R')
source('~/Documents/R/swim3.R')
expdat
source('~/Documents/R/swim3.R')
concdat
concdat<-read.csv("/Users/rachel/documents/r/brazilcf.csv",header=TRUE,sep=",")
concdat
conc
source('~/Documents/R/swim3.R')
source('~/Documents/R/swim3.R')
source('~/Documents/R/swim3.R')
source('~/Documents/R/swim3.R')
source('~/Documents/R/swim3.R')
source('~/Documents/R/swim3.R')
source('~/Documents/R/swim3.R')
source('~/Documents/R/swim3.R')
#print(log(conc))
source('~/Documents/R/swim3.R')
source('~/Documents/R/swim3.R')
plot(1:10,1:10)
plot(1:10,1:10,axes=F)
axis(1)
?uniroot
source('~/Documents/R/BrazilQMRA/sailing2.R')
concdatsalt2
source('~/Documents/R/BrazilQMRA/sailing_MarinaGloria1_ENT.R')
source('~/Documents/R/BrazilQMRA/sailing_MarinaGloria1_ENT.R')
conc
concdatsalt2
marinagloria2
marinagloria2$mpn.100ml
marinagloria2
conc<-marinagloria2$mpn.100ml
conc
source('~/Documents/R/BrazilQMRA/sailing_MarinaGloria.R')
conc
marinagloria2
source('~/Documents/R/BrazilQMRA/sailing_MarinaGloria1_ENT.R')
source('~/Documents/R/BrazilQMRA/sailing_MarinaGloria.R')
source('~/Documents/R/BrazilQMRA/sailing_MarinaGloria.R')
marinagloria
marinagloria2
source('~/Documents/R/BrazilQMRA/sailing_MarinaGloria1_ENT.R')
marinagloria2
conc
conc<-marinagloria2$mpn.100.ml
conc
marinagloria2$mpn.100ml
source('~/Documents/R/BrazilQMRA/sailing_MarinaGloria1.R')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
read.csv("./concdatsalt2.csv",header=TRUE,sep=",")
concdatsalt2<-read.csv("./concdatsalt2.csv",header=TRUE,sep=",")
source('~/.active-rstudio-document')
conc
marinagloria1
marinagloria1$mpn.100ml
str(marinagloria1$mpn.100ml)
source('~/Documents/R/BrazilQMRA/sailing_MarinaGloria1.R')
marinagloria$mpn.100.ml
str(marinagloria$mpn.100.ml)
marinagloria
str(marinagloria)
str(marinagloria12)
source('~/.active-rstudio-document')
str(marinagloria1)
str(marinagloria1$mpn.100ml)
as.numeric(marinagloria1$mpn.100ml)
(marinagloria1$mpn.100ml)
source('~/Documents/R/BrazilQMRA/sailing_MarinaGloria1.R')
marinagloria$mpn.100.ml
marinagloria1
marinagloria
conc
source('~/.active-rstudio-document')
conc1
source('~/.active-rstudio-document')
conc1
marinagloria1$mpn.100ml
marinagloria1
marinagloria
marinagloria1
marinagloria1$mpn.100ml
as.vector(marinagloria1$mpn.100ml)
test<-as.vector(marinagloria1$mpn.100ml)
test
as.numeric(test)
marinagloria1
marinagloria1[marinagloria1$mpn.100ml]
str(marinagloria1)
source('~/Documents/R/BrazilQMRA/sailing_MarinaGloria1.R')
marinagloria
marinagloria1
str(marinagloria)
str(marinagloria1)
as.int(marinagloria1$mpn.100ml)
as.vector(marinagloria1$mpn.100ml)
vector1<-as.vector(marinagloria1$mpn.100ml)
vector1
marinagloria$mpn.100.ml
as.integer(marinagloria1$mpn.100ml)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
pathogensail
pathogensail<-data.frame(
org     =c("ecoli",   "campylobacter", "salmonella", "rotavirus", "cryptosporidium", "ascaris", "entero"),
alpha   =c(NA,        0.145,           0.3126,       0.2531,      NA,                NA,           NA),
a       =c(0,           0,               0,            0,          0,                 0,       0.0015),
n50     =c(NA,        896,             23600,        6.17,        NA,                NA,           NA),
pdi     =c(1,        0.3,             0.3,          0.5,         0.7,              0.39,            1),
k       =c(0.0001432, NA,              NA,           NA,     0.00419,             0.039,      0.00018),
ratio   =c(1,         10^5,            10^5,         10^5,      10^6,            10^6,      0.00018),
equation=c("expon",   "bpois",         "bpois",      "bpois",     "expon",           "expon")
)
source('~/.active-rstudio-document')
totalrisksail
saildis
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
conc1
conc1<<-as.integer(marinagloria1$mpn.100.ml)
conc1
marinagloria1$mpn.100ml
as.integer(marinagloria1$mpn.100ml)
as.numeric(marinagloria1$mpn.100ml)
marinagloria1
marinagloria1$mpn.100ml
as.vector(marinagloria1$mpn.100ml)
as.integer(as.vector(marinagloria1$mpn.100ml))
marinagloria1
as.vector(marinagloria1$mpn.100ml))
as.vector(marinagloria1$mpn.100ml)
as.vector(marinagloria1$mpn.100ml)
as.numeric(marinagloria1$mpn.100ml)
source('~/Documents/R/BrazilQMRA/sailing_MarinaGloria1.R')
conc
str(conc)
source('~/.active-rstudio-document')
as.integer(marinagloria1$mpn.100ml)
as.vector(marinagloria1$mpn.100ml
)
vector1<-as.vector(marinagloria1$mpn.100ml)
vector1
as.numeric(vector1)
as.numeric(marinagloria1$mpn.100ml)
marinagloria1$mpn.100ml
marinagloria1
c(10,133)
conc1<-c(10,133,10,2729,79,1782,86,41,15,202,10)
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
source('~/.active-rstudio-document')
saildis
source('~/Documents/R/BrazilQMRA/totalrisk1.R')
source('~/Documents/R/BrazilQMRA/totalrisk1.R')
source('~/Documents/R/BrazilQMRA/totalrisk1.R')
source('~/Documents/R/BrazilQMRA/totalrisk1.R')
source('~/Documents/R/BrazilQMRA/totalrisk1.R')
source('~/Documents/R/BrazilQMRA/totalrisk1.R')
source('~/Documents/R/BrazilQMRA/totalrisk2.R')
